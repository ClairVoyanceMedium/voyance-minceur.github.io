<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire d' expédition à remplir</title>
    <!-- Importation des polices Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <link rel="icon" href="favicon_optimized.png" type="image/png" sizes="16x16 32x32 48x48 64x64 128x128" crossorigin="anonymous">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: #fff;
            color: #000;
        }
        .logo-container {
            text-align: center;
            margin: 15px 0;
        }
        .logo {
            max-width: 255px;
            height: auto;
            border-radius: 8px;
        }
        .form-container {
            max-width: 500px;
            margin: 15px auto;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            font-family: 'Cinzel', serif;
            font-size: 24px;
            margin-bottom: 25px;
        }
        label {
            font-weight: bold;
            margin: 10px 0 5px;
            display: block;
        }
        input, select, textarea, button {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        textarea {
            font-family: 'Playfair Display', serif;
            font-size: 16px;
            margin-bottom: 20px;
        }
        button {
            background: #ff69b4;
            color: #fff;
            cursor: pointer;
            border: none;
        }
        button:hover {
            background: #ff85c1;
        }
        .contact-link {
            text-align: center;
            font-size: 14px;
        }
        .contact-link a {
            color: #000;
            text-decoration: none;
        }
        #google_translate_element {
            margin-bottom: 15px;
            text-align: center;
        }
        .responsive-img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
        }
        #payment-confirmation {
            text-align: center;
            margin-top: 10px;
            font-size: 16px;
            font-weight: bold;
            color: green;
        }
        /* Styles pour les champs d'adresse */
        #country, #region, #city, #address-line1, #address-line2, #postal-code {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        /* Styles pour le sélecteur de préfixe téléphonique */
        .phone-container {
            display: flex;
            gap: 10px;
        }
        #phone-prefix {
            width: 30%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        #telephone {
            width: 70%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="logo-container">
        <img src="https://i.imgur.com/ajZF0ae.jpg" alt="ClairVoyanceMedium" class="responsive-img">
    </div>
    <!-- Google Translate Widget -->
    <div id="google_translate_element"></div>
    <div class="form-container">
        <div id="google_translate_element"></div>
        <div id="payment-confirmation">
            Merci ! Votre paiement a bien été reçu
        </div>
        <br>
        <h1>Votre formulaire d' expédition à remplir</h1>
        <form id="formulaire" action="https://formspree.io/f/xjkkkywn" method="POST">
            <label for="nom">Nom / Prénom :</label>
            <input type="text" id="nom" name="nom" required>
            <label for="email">Email :</label>
            <input type="email" id="email" name="email" required>
            <label for="telephone">Téléphone :</label>
            <div class="phone-container">
                <select id="phone-prefix" name="phone_prefix" required>
                    <option value="">Indicatif</option>
                    <option value="+93">Afghanistan (+93)</option>
                    <option value="+355">Albanie (+355)</option>
                    <option value="+213">Algérie (+213)</option>
                    <option value="+49">Allemagne (+49)</option>
                    <option value="+376">Andorre (+376)</option>
                    <option value="+244">Angola (+244)</option>
                    <option value="+54">Argentine (+54)</option>
                    <option value="+374">Arménie (+374)</option>
                    <option value="+61">Australie (+61)</option>
                    <option value="+43">Autriche (+43)</option>
                    <option value="+994">Azerbaïdjan (+994)</option>
                    <option value="+1-242">Bahamas (+1-242)</option>
                    <option value="+973">Bahreïn (+973)</option>
                    <option value="+880">Bangladesh (+880)</option>
                    <option value="+1-246">Barbade (+1-246)</option>
                    <option value="+375">Biélorussie (+375)</option>
                    <option value="+32">Belgique (+32)</option>
                    <option value="+501">Belize (+501)</option>
                    <option value="+229">Bénin (+229)</option>
                    <option value="+975">Bhoutan (+975)</option>
                    <option value="+591">Bolivie (+591)</option>
                    <option value="+387">Bosnie-Herzégovine (+387)</option>
                    <option value="+267">Botswana (+267)</option>
                    <option value="+55">Brésil (+55)</option>
                    <option value="+673">Brunei (+673)</option>
                    <option value="+359">Bulgarie (+359)</option>
                    <option value="+226">Burkina Faso (+226)</option>
                    <option value="+257">Burundi (+257)</option>
                    <option value="+855">Cambodge (+855)</option>
                    <option value="+237">Cameroun (+237)</option>
                    <option value="+1">Canada (+1)</option>
                    <option value="+238">Cap-Vert (+238)</option>
                    <option value="+236">République centrafricaine (+236)</option>
                    <option value="+56">Chili (+56)</option>
                    <option value="+86">Chine (+86)</option>
                    <option value="+357">Chypre (+357)</option>
                    <option value="+57">Colombie (+57)</option>
                    <option value="+269">Comores (+269)</option>
                    <option value="+242">Congo (+242)</option>
                    <option value="+243">Congo (RDC) (+243)</option>
                    <option value="+82">Corée du Sud (+82)</option>
                    <option value="+506">Costa Rica (+506)</option>
                    <option value="+225">Côte d'Ivoire (+225)</option>
                    <option value="+385">Croatie (+385)</option>
                    <option value="+53">Cuba (+53)</option>
                    <option value="+45">Danemark (+45)</option>
                    <option value="+253">Djibouti (+253)</option>
                    <option value="+1-809">République dominicaine (+1-809)</option>
                    <option value="+20">Égypte (+20)</option>
                    <option value="+503">Salvador (+503)</option>
                    <option value="+971">Émirats arabes unis (+971)</option>
                    <option value="+593">Équateur (+593)</option>
                    <option value="+291">Érythrée (+291)</option>
                    <option value="+34">Espagne (+34)</option>
                    <option value="+372">Estonie (+372)</option>
                    <option value="+1">États-Unis (+1)</option>
                    <option value="+251">Éthiopie (+251)</option>
                    <option value="+679">Fidji (+679)</option>
                    <option value="+358">Finlande (+358)</option>
                    <option value="+33">France (+33)</option>
                    <option value="+241">Gabon (+241)</option>
                    <option value="+220">Gambie (+220)</option>
                    <option value="+995">Géorgie (+995)</option>
                    <option value="+233">Ghana (+233)</option>
                    <option value="+30">Grèce (+30)</option>
                    <option value="+1-473">Grenade (+1-473)</option>
                    <option value="+502">Guatemala (+502)</option>
                    <option value="+224">Guinée (+224)</option>
                    <option value="+240">Guinée équatoriale (+240)</option>
                    <option value="+245">Guinée-Bissau (+245)</option>
                    <option value="+592">Guyana (+592)</option>
                    <option value="+509">Haïti (+509)</option>
                    <option value="+504">Honduras (+504)</option>
                    <option value="+36">Hongrie (+36)</option>
                    <option value="+91">Inde (+91)</option>
                    <option value="+62">Indonésie (+62)</option>
                    <option value="+98">Iran (+98)</option>
                    <option value="+964">Irak (+964)</option>
                    <option value="+353">Irlande (+353)</option>
                    <option value="+354">Islande (+354)</option>
                    <option value="+972">Israël (+972)</option>
                    <option value="+39">Italie (+39)</option>
                    <option value="+1-876">Jamaïque (+1-876)</option>
                    <option value="+81">Japon (+81)</option>
                    <option value="+962">Jordanie (+962)</option>
                    <option value="+7">Kazakhstan (+7)</option>
                    <option value="+254">Kenya (+254)</option>
                    <option value="+996">Kirghizistan (+996)</option>
                    <option value="+686">Kiribati (+686)</option>
                    <option value="+965">Koweït (+965)</option>
                    <option value="+856">Laos (+856)</option>
                    <option value="+266">Lesotho (+266)</option>
                    <option value="+371">Lettonie (+371)</option>
                    <option value="+961">Liban (+961)</option>
                    <option value="+231">Liberia (+231)</option>
                    <option value="+218">Libye (+218)</option>
                    <option value="+423">Liechtenstein (+423)</option>
                    <option value="+370">Lituanie (+370)</option>
                    <option value="+352">Luxembourg (+352)</option>
                    <option value="+389">Macédoine du Nord (+389)</option>
                    <option value="+261">Madagascar (+261)</option>
                    <option value="+265">Malawi (+265)</option>
                    <option value="+60">Malaisie (+60)</option>
                    <option value="+960">Maldives (+960)</option>
                    <option value="+223">Mali (+223)</option>
                    <option value="+356">Malte (+356)</option>
                    <option value="+212">Maroc (+212)</option>
                    <option value="+692">Îles Marshall (+692)</option>
                    <option value="+230">Maurice (+230)</option>
                    <option value="+222">Mauritanie (+222)</option>
                    <option value="+52">Mexique (+52)</option>
                    <option value="+691">Micronésie (+691)</option>
                    <option value="+373">Moldavie (+373)</option>
                    <option value="+377">Monaco (+377)</option>
                    <option value="+976">Mongolie (+976)</option>
                    <option value="+382">Monténégro (+382)</option>
                    <option value="+258">Mozambique (+258)</option>
                    <option value="+95">Myanmar (+95)</option>
                    <option value="+264">Namibie (+264)</option>
                    <option value="+674">Nauru (+674)</option>
                    <option value="+977">Népal (+977)</option>
                    <option value="+31">Pays-Bas (+31)</option>
                    <option value="+64">Nouvelle-Zélande (+64)</option>
                    <option value="+505">Nicaragua (+505)</option>
                    <option value="+227">Niger (+227)</option>
                    <option value="+234">Nigeria (+234)</option>
                    <option value="+47">Norvège (+47)</option>
                    <option value="+968">Oman (+968)</option>
                    <option value="+256">Ouganda (+256)</option>
                    <option value="+998">Ouzbékistan (+998)</option>
                    <option value="+92">Pakistan (+92)</option>
                    <option value="+680">Palaos (+680)</option>
                    <option value="+507">Panama (+507)</option>
                    <option value="+675">Papouasie-Nouvelle-Guinée (+675)</option>
                    <option value="+595">Paraguay (+595)</option>
                    <option value="+51">Pérou (+51)</option>
                    <option value="+63">Philippines (+63)</option>
                    <option value="+48">Pologne (+48)</option>
                    <option value="+351">Portugal (+351)</option>
                    <option value="+974">Qatar (+974)</option>
                    <option value="+40">Roumanie (+40)</option>
                    <option value="+44">Royaume-Uni (+44)</option>
                    <option value="+7">Russie (+7)</option>
                    <option value="+250">Rwanda (+250)</option>
                    <option value="+1-869">Saint-Kitts-et-Nevis (+1-869)</option>
                    <option value="+1-758">Sainte-Lucie (+1-758)</option>
                    <option value="+1-784">Saint-Vincent-et-les-Grenadines (+1-784)</option>
                    <option value="+685">Samoa (+685)</option>
                    <option value="+378">Saint-Marin (+378)</option>
                    <option value="+239">Sao Tomé-et-Principe (+239)</option>
                    <option value="+966">Arabie saoudite (+966)</option>
                    <option value="+221">Sénégal (+221)</option>
                    <option value="+381">Serbie (+381)</option>
                    <option value="+248">Seychelles (+248)</option>
                    <option value="+232">Sierra Leone (+232)</option>
                    <option value="+65">Singapour (+65)</option>
                    <option value="+421">Slovaquie (+421)</option>
                    <option value="+386">Slovénie (+386)</option>
                    <option value="+677">Îles Salomon (+677)</option>
                    <option value="+252">Somalie (+252)</option>
                    <option value="+27">Afrique du Sud (+27)</option>
                    <option value="+211">Soudan du Sud (+211)</option>
                    <option value="+94">Sri Lanka (+94)</option>
                    <option value="+249">Soudan (+249)</option>
                    <option value="+597">Suriname (+597)</option>
                    <option value="+46">Suède (+46)</option>
                    <option value="+41">Suisse (+41)</option>
                    <option value="+963">Syrie (+963)</option>
                    <option value="+992">Tadjikistan (+992)</option>
                    <option value="+255">Tanzanie (+255)</option>
                    <option value="+66">Thaïlande (+66)</option>
                    <option value="+670">Timor oriental (+670)</option>
                    <option value="+228">Togo (+228)</option>
                    <option value="+676">Tonga (+676)</option>
                    <option value="+1-868">Trinité-et-Tobago (+1-868)</option>
                    <option value="+216">Tunisie (+216)</option>
                    <option value="+90">Turquie (+90)</option>
                    <option value="+993">Turkménistan (+993)</option>
                    <option value="+688">Tuvalu (+688)</option>
                    <option value="+380">Ukraine (+380)</option>
                    <option value="+598">Uruguay (+598)</option>
                    <option value="+678">Vanuatu (+678)</option>
                    <option value="+58">Venezuela (+58)</option>
                    <option value="+84">Vietnam (+84)</option>
                    <option value="+967">Yémen (+967)</option>
                    <option value="+260">Zambie (+260)</option>
                    <option value="+263">Zimbabwe (+263)</option>
                </select>
                <input type="tel" id="telephone" name="telephone" placeholder="Numéro de téléphone" required>
            </div>
            <!-- Adresse de livraison -->
            <label for="country">Pays :</label>
            <select id="country" name="country" required>
                <option value="">-- Sélectionnez votre pays --</option>
                <option value="AF">Afghanistan</option>
                <option value="AL">Albanie</option>
                <option value="DZ">Algérie</option>
                <option value="DE">Allemagne</option>
                <option value="AD">Andorre</option>
                <option value="AO">Angola</option>
                <option value="AR">Argentine</option>
                <option value="AM">Arménie</option>
                <option value="AU">Australie</option>
                <option value="AT">Autriche</option>
                <option value="AZ">Azerbaïdjan</option>
                <option value="BS">Bahamas</option>
                <option value="BH">Bahreïn</option>
                <option value="BD">Bangladesh</option>
                <option value="BB">Barbade</option>
                <option value="BY">Biélorussie</option>
                <option value="BE">Belgique</option>
                <option value="BZ">Belize</option>
                <option value="BJ">Bénin</option>
                <option value="BT">Bhoutan</option>
                <option value="BO">Bolivie</option>
                <option value="BA">Bosnie-Herzégovine</option>
                <option value="BW">Botswana</option>
                <option value="BR">Brésil</option>
                <option value="BN">Brunei</option>
                <option value="BG">Bulgarie</option>
                <option value="BF">Burkina Faso</option>
                <option value="BI">Burundi</option>
                <option value="KH">Cambodge</option>
                <option value="CM">Cameroun</option>
                <option value="CA">Canada</option>
                <option value="CV">Cap-Vert</option>
                <option value="CF">République centrafricaine</option>
                <option value="CL">Chili</option>
                <option value="CN">Chine</option>
                <option value="CY">Chypre</option>
                <option value="CO">Colombie</option>
                <option value="KM">Comores</option>
                <option value="CG">Congo</option>
                <option value="CD">Congo (RDC)</option>
                <option value="KR">Corée du Sud</option>
                <option value="CR">Costa Rica</option>
                <option value="CI">Côte d'Ivoire</option>
                <option value="HR">Croatie</option>
                <option value="CU">Cuba</option>
                <option value="DK">Danemark</option>
                <option value="DJ">Djibouti</option>
                <option value="DO">République dominicaine</option>
                <option value="EG">Égypte</option>
                <option value="SV">Salvador</option>
                <option value="AE">Émirats arabes unis</option>
                <option value="EC">Équateur</option>
                <option value="ER">Érythrée</option>
                <option value="ES">Espagne</option>
                <option value="EE">Estonie</option>
                <option value="US">États-Unis</option>
                <option value="ET">Éthiopie</option>
                <option value="FJ">Fidji</option>
                <option value="FI">Finlande</option>
                <option value="FR">France</option>
                <option value="GA">Gabon</option>
                <option value="GM">Gambie</option>
                <option value="GE">Géorgie</option>
                <option value="GH">Ghana</option>
                <option value="GR">Grèce</option>
                <option value="GD">Grenade</option>
                <option value="GT">Guatemala</option>
                <option value="GN">Guinée</option>
                <option value="GQ">Guinée équatoriale</option>
                <option value="GW">Guinée-Bissau</option>
                <option value="GY">Guyana</option>
                <option value="HT">Haïti</option>
                <option value="HN">Honduras</option>
                <option value="HU">Hongrie</option>
                <option value="IN">Inde</option>
                <option value="ID">Indonésie</option>
                <option value="IR">Iran</option>
                <option value="IQ">Irak</option>
                <option value="IE">Irlande</option>
                <option value="IS">Islande</option>
                <option value="IL">Israël</option>
                <option value="IT">Italie</option>
                <option value="JM">Jamaïque</option>
                <option value="JP">Japon</option>
                <option value="JO">Jordanie</option>
                <option value="KZ">Kazakhstan</option>
                <option value="KE">Kenya</option>
                <option value="KG">Kirghizistan</option>
                <option value="KI">Kiribati</option>
                <option value="KW">Koweït</option>
                <option value="LA">Laos</option>
                <option value="LS">Lesotho</option>
                <option value="LV">Lettonie</option>
                <option value="LB">Liban</option>
                <option value="LR">Liberia</option>
                <option value="LY">Libye</option>
                <option value="LI">Liechtenstein</option>
                <option value="LT">Lituanie</option>
                <option value="LU">Luxembourg</option>
                <option value="MK">Macédoine du Nord</option>
                <option value="MG">Madagascar</option>
                <option value="MW">Malawi</option>
                <option value="MY">Malaisie</option>
                <option value="MV">Maldives</option>
                <option value="ML">Mali</option>
                <option value="MT">Malte</option>
                <option value="MA">Maroc</option>
                <option value="MH">Îles Marshall</option>
                <option value="MU">Maurice</option>
                <option value="MR">Mauritanie</option>
                <option value="MX">Mexique</option>
                <option value="FM">Micronésie</option>
                <option value="MD">Moldavie</option>
                <option value="MC">Monaco</option>
                <option value="MN">Mongolie</option>
                <option value="ME">Monténégro</option>
                <option value="MZ">Mozambique</option>
                <option value="MM">Myanmar</option>
                <option value="NA">Namibie</option>
                <option value="NR">Nauru</option>
                <option value="NP">Népal</option>
                <option value="NL">Pays-Bas</option>
                <option value="NZ">Nouvelle-Zélande</option>
                <option value="NI">Nicaragua</option>
                <option value="NE">Niger</option>
                <option value="NG">Nigeria</option>
                <option value="NO">Norvège</option>
                <option value="OM">Oman</option>
                <option value="UG">Ouganda</option>
                <option value="UZ">Ouzbékistan</option>
                <option value="PK">Pakistan</option>
                <option value="PW">Palaos</option>
                <option value="PA">Panama</option>
                <option value="PG">Papouasie-Nouvelle-Guinée</option>
                <option value="PY">Paraguay</option>
                <option value="PE">Pérou</option>
                <option value="PH">Philippines</option>
                <option value="PL">Pologne</option>
                <option value="PT">Portugal</option>
                <option value="QA">Qatar</option>
                <option value="RO">Roumanie</option>
                <option value="GB">Royaume-Uni</option>
                <option value="RU">Russie</option>
                <option value="RW">Rwanda</option>
                <option value="KN">Saint-Kitts-et-Nevis</option>
                <option value="LC">Sainte-Lucie</option>
                <option value="VC">Saint-Vincent-et-les-Grenadines</option>
                <option value="WS">Samoa</option>
                <option value="SM">Saint-Marin</option>
                <option value="ST">Sao Tomé-et-Principe</option>
                <option value="SA">Arabie saoudite</option>
                <option value="SN">Sénégal</option>
                <option value="RS">Serbie</option>
                <option value="SC">Seychelles</option>
                <option value="SL">Sierra Leone</option>
                <option value="SG">Singapour</option>
                <option value="SK">Slovaquie</option>
                <option value="SI">Slovénie</option>
                <option value="SB">Îles Salomon</option>
                <option value="SO">Somalie</option>
                <option value="ZA">Afrique du Sud</option>
                <option value="SS">Soudan du Sud</option>
                <option value="LK">Sri Lanka</option>
                <option value="SD">Soudan</option>
                <option value="SR">Suriname</option>
                <option value="SE">Suède</option>
                <option value="CH">Suisse</option>
                <option value="SY">Syrie</option>
                <option value="TJ">Tadjikistan</option>
                <option value="TZ">Tanzanie</option>
                <option value="TH">Thaïlande</option>
                <option value="TL">Timor oriental</option>
                <option value="TG">Togo</option>
                <option value="TO">Tonga</option>
                <option value="TT">Trinité-et-Tobago</option>
                <option value="TN">Tunisie</option>
                <option value="TR">Turquie</option>
                <option value="TM">Turkménistan</option>
                <option value="TV">Tuvalu</option>
                <option value="UA">Ukraine</option>
                <option value="UY">Uruguay</option>
                <option value="VU">Vanuatu</option>
                <option value="VE">Venezuela</option>
                <option value="VN">Vietnam</option>
                <option value="YE">Yémen</option>
                <option value="ZM">Zambie</option>
                <option value="ZW">Zimbabwe</option>
            </select>
            <label for="region">Région / État :</label>
            <input type="text" id="region" name="region" placeholder="Entrez votre région ou état" required>
            <label for="city">Ville :</label>
            <input type="text" id="city" name="city" placeholder="Entrez votre ville" required>
            <label for="address-line1">Adresse (ligne 1) :</label>
            <input type="text" id="address-line1" name="address_line1" placeholder="Numéro et nom de la rue" required>
            <label for="address-line2">Adresse (ligne 2, facultatif) :</label>
            <input type="text" id="address-line2" name="address_line2" placeholder="Appartement, étage, etc.">
            <label for="postal-code">Code postal :</label>
            <input type="text" id="postal-code" name="postal_code" placeholder="Entrez votre code postal" required>
            <label for="questions">Informations complémentaires (facultatif) :</label>
            <textarea id="questions" name="questions" rows="5"></textarea>
            <button type="submit">Envoyer</button>
            <div class="contact-link">
                <a href="mailto:contact.clairvoyancemedium@gmail.com">Contact ClairVoyanceMedium.com</a>
            </div>
        </form>
    </div>
    <script>
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'fr',
                includedLanguages: 'aut,en,es,zh-CN,hi,ar,pt,ru,ja,de,ko,vi,it,tr,pl,uk,nl,mlt,cyp,svk,th,fr,sv,cs,el,da,fi,he,hu,id,ms,no,ro,sk,sl,af,bg,hr,lt,lv,sr,et,ta,te,sw,zu,fa,lo,my,ne,xh,yo',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                autoDisplay: false
            }, 'google_translate_element');
        }

        async function detectLanguageByIP() {
            try {
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();
                const countryCode = data.country_code.toLowerCase();
                const langMap = {
                    us: 'en', fr: 'fr', es: 'es', de: 'de', it: 'it', ru: 'ru', il: 'he',
                    cn: 'zh-CN', jp: 'ja', kr: 'ko', in: 'hi', pt: 'pt', ar: 'ar', vi: 'vi'
                };
                const detectedLanguage = langMap[countryCode] || 'en';
                autoTranslate(detectedLanguage);
            } catch (error) {
                console.error('IP-based detection failed, falling back to browser language:', error);
                const fallbackLang = navigator.language.split('-')[0];
                autoTranslate(fallbackLang);
            }
        }

        function autoTranslate(detectedLanguage) {
            setTimeout(() => {
                const translateCombo = document.querySelector('.goog-te-combo');
                if (translateCombo) {
                    translateCombo.value = detectedLanguage;
                    translateCombo.dispatchEvent(new Event('change'));
                }
            }, 2000);
        }

        function loadGoogleTranslateScript() {
            const script = document.createElement('script');
            script.src = "https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit";
            script.async = true;
            script.onload = detectLanguageByIP;
            script.onerror = () => {
                document.getElementById('google_translate_element').innerHTML =
                    '<p style="color: red; text-align: center;">Traduction indisponible. Veuillez réessayer plus tard.</p>';
            };
            document.body.appendChild(script);
        }

        // Détection du pays pour pré-remplir le sélecteur de pays et le préfixe téléphonique
        function detectCountry() {
            fetch('https://ipapi.co/json/')
                .then(response => response.json())
                .then(data => {
                    const countryCode = data.country_code;
                    // Pré-remplir le sélecteur de pays
                    const countrySelect = document.getElementById('country');
                    if (countryCode) {
                        countrySelect.value = countryCode;
                    }
                    // Pré-remplir le préfixe téléphonique
                    const phonePrefixSelect = document.getElementById('phone-prefix');
                    const prefixMap = {
                        'AF': '+93', 'AL': '+355', 'DZ': '+213', 'DE': '+49', 'AD': '+376',
                        'AO': '+244', 'AR': '+54', 'AM': '+374', 'AU': '+61', 'AT': '+43',
                        'AZ': '+994', 'BS': '+1-242', 'BH': '+973', 'BD': '+880', 'BB': '+1-246',
                        'BY': '+375', 'BE': '+32', 'BZ': '+501', 'BJ': '+229', 'BT': '+975',
                        'BO': '+591', 'BA': '+387', 'BW': '+267', 'BR': '+55', 'BN': '+673',
                        'BG': '+359', 'BF': '+226', 'BI': '+257', 'KH': '+855', 'CM': '+237',
                        'CA': '+1', 'CV': '+238', 'CF': '+236', 'CL': '+56', 'CN': '+86',
                        'CY': '+357', 'CO': '+57', 'KM': '+269', 'CG': '+242', 'CD': '+243',
                        'KR': '+82', 'CR': '+506', 'CI': '+225', 'HR': '+385', 'CU': '+53',
                        'DK': '+45', 'DJ': '+253', 'DO': '+1-809', 'EG': '+20', 'SV': '+503',
                        'AE': '+971', 'EC': '+593', 'ER': '+291', 'ES': '+34', 'EE': '+372',
                        'US': '+1', 'ET': '+251', 'FJ': '+679', 'FI': '+358', 'FR': '+33',
                        'GA': '+241', 'GM': '+220', 'GE': '+995', 'GH': '+233', 'GR': '+30',
                        'GD': '+1-473', 'GT': '+502', 'GN': '+224', 'GQ': '+240', 'GW': '+245',
                        'GY': '+592', 'HT': '+509', 'HN': '+504', 'HU': '+36', 'IN': '+91',
                        'ID': '+62', 'IR': '+98', 'IQ': '+964', 'IE': '+353', 'IS': '+354',
                        'IL': '+972', 'IT': '+39', 'JM': '+1-876', 'JP': '+81', 'JO': '+962',
                        'KZ': '+7', 'KE': '+254', 'KG': '+996', 'KI': '+686', 'KW': '+965',
                        'LA': '+856', 'LS': '+266', 'LV': '+371', 'LB': '+961', 'LR': '+231',
                        'LY': '+218', 'LI': '+423', 'LT': '+370', 'LU': '+352', 'MK': '+389',
                        'MG': '+261', 'MW': '+265', 'MY': '+60', 'MV': '+960', 'ML': '+223',
                        'MT': '+356', 'MA': '+212', 'MH': '+692', 'MU': '+230', 'MR': '+222',
                        'MX': '+52', 'FM': '+691', 'MD': '+373', 'MC': '+377', 'MN': '+976',
                        'ME': '+382', 'MZ': '+258', 'MM': '+95', 'NA': '+264', 'NR': '+674',
                        'NP': '+977', 'NL': '+31', 'NZ': '+64', 'NI': '+505', 'NE': '+227',
                        'NG': '+234', 'NO': '+47', 'OM': '+968', 'UG': '+256', 'UZ': '+998',
                        'PK': '+92', 'PW': '+680', 'PA': '+507', 'PG': '+675', 'PY': '+595',
                        'PE': '+51', 'PH': '+63', 'PL': '+48', 'PT': '+351', 'QA': '+974',
                        'RO': '+40', 'GB': '+44', 'RU': '+7', 'RW': '+250', 'KN': '+1-869',
                        'LC': '+1-758', 'VC': '+1-784', 'WS': '+685', 'SM': '+378',
                        'ST': '+239', 'SA': '+966', 'SN': '+221', 'RS': '+381', 'SC': '+248',
                        'SL': '+232', 'SG': '+65', 'SK': '+421', 'SI': '+386', 'SB': '+677',
                        'SO': '+252', 'ZA': '+27', 'SS': '+211', 'LK': '+94', 'SD': '+249',
                        'SR': '+597', 'SE': '+46', 'CH': '+41', 'SY': '+963', 'TJ': '+992',
                        'TZ': '+255', 'TH': '+66', 'TL': '+670', 'TG': '+228', 'TO': '+676',
                        'TT': '+1-868', 'TN': '+216', 'TR': '+90', 'TM': '+993', 'TV': '+688',
                        'UA': '+380', 'UY': '+598', 'VU': '+678', 'VE': '+58', 'VN': '+84',
                        'YE': '+967', 'ZM': '+260', 'ZW': '+263'
                    };
                    if (prefixMap[countryCode]) {
                        phonePrefixSelect.value = prefixMap[countryCode];
                    }
                })
                .catch(error => {
                    console.error('Erreur lors de la détection du pays:', error);
                });
        }

        document.addEventListener("DOMContentLoaded", () => {
            loadGoogleTranslateScript();
            detectCountry();
        });
    </script>
</body>
</html>
